# chainstoreapp

【アプリの目的】<br>
・チェーン店検索からメニュー決定までをワンストップで行えるアプリ<br>
・ここで言うチェーン店とは、主に牛丼屋(すき家等)とうどん屋(はなまるうどん等)<br>
・出発点は、上記のチェーン店は他の食品を扱うチェーン店に比べメニューの組み合わせの自由度が高く、普段食べているものと異なる組み合わせを注文しようとするも、発券機に並んでいる人々の存在が気になって落ち着けず、結局満足のいくメニュー選択ができなかった経験<br>
・メニューの組み合わせの自由度が高いというのは、例えばマクドナルドと比べてみると、こちらはセットメニューで価格が最適化されているので、大体はセットメニューの一覧を見て、価格と食べたいものの均衡点を特定すれば事足りる。しかし、今回扱うチェーン店はそうはいかない。まず、牛丼やうどんといったメインメニューの中で、豪華さに応じて価格が変動するのは、マクドナルドと一緒だ。しかしそれに加え、牛丼屋にはトッピング、うどん屋には天ぷらやおでんといったサイドメニューが充実している。すると、マクドナルドのようにメインメニューの一覧を見るだけでは、そのとき最も食べたい組み合わせを考えるには足りず、メインメニュー＋サイドメニューの組み合わせも考えないといけない。例えば、うどん屋では大抵かけうどんが最安だが、それだけでは今ひとつ足りないと思ったとしよう。充実させるには、メインのうどんをきつねうどんにするなどのグレードアップを図るもよし、一方で、かけうどんに天ぷらやおでんを付けるというサイドによるグレードアップを図るのもよい。今回はかけうどんのグレードアップだけなので、比較的お店でその場で考えることも容易だが、これが予算を拡大するとそうはいかない。うどん屋で予算800円ほどになると、メイン×サイドの組み合わせはかなりの数になるだろう。しかし、うどん屋ないし牛丼屋等のチェーン店は、注文までの時間が非常に短く、組み合わせを考えている余裕がない。そこで、予算を入力すると、その予算内でメニューの組み合わせをランダム表示する機能を作成した。<br>
・さらに、チェーン店に行こうとするとき、必要なのはメニュー決定だけでなく、店舗の位置である。そこで、現在地周辺の店舗位置を検索・ルート表示を行える機能も実装した。<br><br>

【操作手順】<br>
1. トップ画面<br>
   ・現在地のマーカーが表示される<br>
   ・以後、常時現在地を監視し、変更があればマーカーが移動する<br><br>
   ![スクリーンショット 2024-06-15 23 03 22](https://github.com/wannabehime/chainstoreapp/assets/106756903/724aa338-cf36-46a7-84ca-a014615adce4)<br><br>

2. チェーン店検索<br>
  2.1. 検索条件入力<br>
    2.1.1. ブランド名<br>
      ・入力欄にホバーするとドロップダウンが出現、その中から選択。<br>
      ・ただ、現時点では直接入力もできてしまうが、後述のメニュー検索の都合上ドロップダウンからのみ選択できるようにしたい。<br><br>
      ![スクリーンショット 2024-06-15 23 03 40](https://github.com/wannabehime/chainstoreapp/assets/106756903/af83f143-b233-4ea4-9ab7-cdb9ce920280)<br><br>
      ![スクリーンショット 2024-06-15 23 03 54](https://github.com/wannabehime/chainstoreapp/assets/106756903/e72ee9a9-635f-4999-a525-82631d561ad5)<br><br>

    2.1.2. 検索範囲の中心地<br>
      ・2文字以上入力すると、駅名サジェストが出現、その中から選択。<br>
      ・サジェストは駅名DBから取得し、「(入力文字 + "駅")の駅名」→「入力文字から始まる駅名」→「入力文字が含まれる駅名」の順で表示。<br><br>
       ![スクリーンショット 2024-06-15 23 04 04](https://github.com/wannabehime/chainstoreapp/assets/106756903/84e3ebd5-3b66-451d-b181-4d227a25bd16)<br><br>
      ・駅名入力ではなく、「現在地から検索」ボタンにより、「現在地」という文字列入力も可能。文字列上だけでなく、内部処理でも現在地の経緯度を取得してある。<br><br>
      ![スクリーンショット 2024-06-15 23 04 15](https://github.com/wannabehime/chainstoreapp/assets/106756903/3f0c2331-cc30-41b2-9aee-91db06f7f10e)<br><br>

    2.1.3. 中心地からの範囲<br>
      ・入力欄をクリックするとドロップダウンが出現、その中から選択。<br>
      ・ただし、ユーザビリティ的に不要な気がしたので、後々範囲指定は無くして自動で300mとかにするつもり。<br><br>
      ![スクリーンショット 2024-06-15 23 04 22](https://github.com/wannabehime/chainstoreapp/assets/106756903/785cf69f-2c80-4f97-b281-d692bb72b349)<br><br>
     　![スクリーンショット 2024-06-15 23 04 27](https://github.com/wannabehime/chainstoreapp/assets/106756903/2eb89d90-6e07-4b43-92f6-f971efcc5c00)<br><br>

  2.2. 店舗の位置マーカー・店舗までの徒歩時間表示<br>
      ・「検索」ボタンを押下すると、条件に該当する全ての店舗の位置のマーカーと、現在地マーカーが収まるように、マップの表示範囲が調整される<br>
      ・店舗マーカーには現在地からの徒歩時間も表示される。<br>
      ・3で使う予算入力欄、4で使う「一覧に戻る」ボタンも表示される。後者はタイミング再考の余地あり。<br><br>
      ![スクリーンショット 2024-06-15 23 04 34](https://github.com/wannabehime/chainstoreapp/assets/106756903/f576969e-a4bf-4da4-96a9-d9952ba4396c)<br><br>

3. メニューのランダム表示<br>
   3.1. 予算入力<br>
     ・入力欄をクリックするとドロップダウンが出現、その中から選択。<br><br>
     ![スクリーンショット 2024-06-15 23 04 40](https://github.com/wannabehime/chainstoreapp/assets/106756903/f16ab013-9eb7-45e1-9648-6c9a031a59ec)<br><br>

   3.2. メニューのランダム表示<br>
     ・予算を入力すると、検索したブランドのチェーン店のメニューDBから、予算以内、かつ最低メイン1品、かつランダムでメニューを取得して表示する。<br>
     ・3.3のシャッフルを使った後ユーザーがメニューを比較できるよう、2通り表示する。<br><br>
     ![スクリーンショット 2024-06-15 23 04 46](https://github.com/wannabehime/chainstoreapp/assets/106756903/78773aec-a610-484d-8fe0-6f2a9ab20d05)<br><br>
     
   3.3. メニューシャッフル<br>
     ・「シャッフル」ボタンを押すと、2通り表示されているメニューのうち、押したボタンが紐づいている方について、3.2のメニューランダム取得が再度行われる（スクショは下のボタンを押した)。<br><br>
     ![スクリーンショット 2024-06-15 23 04 55](https://github.com/wannabehime/chainstoreapp/assets/106756903/678a9fbe-4abf-492a-944d-d357a9d252a5)<br><br>

4. ルート検索<br>
   4.1. 現在地から店舗までのルート表示<br>
     ・マーカーの吹き出しの「ルート」ボタンを押すと、現在地から店舗までのルートが表示され、ルートにフォーカスするようにマップの表示範囲が調整される。<br><br>
     ![スクリーンショット 2024-06-15 23 05 11](https://github.com/wannabehime/chainstoreapp/assets/106756903/025a6e33-6b8b-424e-a8ed-9879ef7a0c79)<br><br>

   4.2. 店舗一覧に戻る<br>
     ・ルートを表示させた状態で「一覧に戻る」ボタンを押すと、ルート表示が消え、再度全ての店舗マーカーが表示される。<br><br>
     ![スクリーンショット 2024-06-15 23 06 36](https://github.com/wannabehime/chainstoreapp/assets/106756903/1dd30a4e-a228-4c6d-81c1-dfeee632e48e)
